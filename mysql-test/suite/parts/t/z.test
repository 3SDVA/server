--echo #
--echo # MDEV-22165: ADD PARTITION: migrate partition from existing table
--echo #
--source include/have_partition.inc
create table tp1 (a int);
insert into tp1 values (110), (150), (170);
create table t1 (a int) partition by range (a) (partition p0 values less than (100));
alter table t1 add partition (partition p2 values less than (400)) from table tp1;
show create table t1;
# FIXME: something is wrong with FRM rename
show create table tp1;
select * from t1;
drop table t1;
